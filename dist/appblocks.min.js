var AppBlock=function(){"use strict";const t=function(t,e,n){const i=e[0];let s,o=t;if(n&&i in n?(e.shift(),o=n[i]):i in t.methods&&(e.shift(),s=t.methods[i]()),e.length>0)for(let t=0;t<e.length&&(s=o[e[t]],void 0!==s);t++)o=s;return s},e=function(e,n,i){if(!1===/{([^}]+)}/.test(n))return;let s=n.replace(/{|}/g,"").split(".");return t(e,s,i)},n=function(t,n,i){const s=n.attributes;for(let n=0;n<s.length;n++)if(/{([^}]+)}/.test(s[n].value)){const o=s[n].value.match(/{([^}]+)}/g);for(let r=0;r<o.length;r++){const c=new RegExp(o[r],"g");s[n].value=s[n].value.replace(c,e(t,o[r],i))}}},i=function(t,n,i){const s=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:function(t){if(/{([^}]+)}/.test(t.data))return NodeFilter.FILTER_ACCEPT}});for(;s.nextNode();){let n=s.currentNode.nodeValue;const o=n.match(/{([^}]+)}/g);for(let s=0;s<o.length;s++)n=n.replace(o[s],e(t,o[s],i));s.currentNode.nodeValue=n}},s={"c-if":function(e,n,i){let s=n.getAttribute("c-if");null===s&&(s=n.getAttribute("c-ifnot"));let o=t(e,s.split("."),i);if(void 0===o){const n=[" == "," === "," !== "," != "," > "," < "," >= "," <= "],r=["boolean","number"];for(let c=0;c<n.length;c++)if(s.includes(n[c])){let a=s;const l=a.split(n[c]),u=t(e,l[0].split("."),i);l[1];if(!1===r.includes(String(typeof u)))return console.error(l[0]+" cannot be evaluated because it is not a boolean or a number."),!1;a=a.replace(l[0],u),o=(0,eval)(a)}}return void 0!==o&&!1!==o&&(n.removeAttribute("c-if"),!0)},"c-ifnot":function(t,e,n){const i=!s["c-if"](t,e,n);return!0===i&&e.removeAttribute("c-ifnot"),i},"c-for":function(e,s,r){const c=s.getAttribute("c-for");let a=c.split(" in "),l=a[0];const u=a[1].split(".");void 0===r&&(r={});let f=t(e,u,r);if(f){s.removeAttribute("c-for");const t=s.parentNode;for(let u=0;u<f.length;u++){const d=f[u];r[l]=d;const h=s.cloneNode(!0);o(e,h,r),n(e,h,r),i(e,h,r),a=c.split(" in "),l=a[0],t.appendChild(h)}return s.remove(),!0}return!1}},o=function(t,e,i){const r=e.attributes;for(let n=0;n<r.length;n++)if(r[n].name in s){const o=r[n].name;if(!1===s[o](t,e,i))return void e.remove()}if(n(t,e,i),e.hasChildNodes())for(let n=e.childElementCount-1;n>=0&&e.children[n];n--)o(t,e.children[n],i)};return function(t){return this.setData=function(t,e=!1){e?this.data=data:Object.assign(this.data,t),this.render()},this.resetState=function(){this.state.loading=!1,this.state.error=!1,this.state.success=!1},this.request=function(t,e,n){const i=this;if(i.state.loading)return;let s,o=i.axiosConfig;t&&Object.assign(o,t),i.resetState(),i.state.loading=!0,i.render((function(){axios.request(o).then((function(t){if(i.state.success=!0,e&&e.success instanceof Function){const n=e.success(t);n instanceof Object&&(t=n)}s=t.data})).catch((function(t){i.state.error=!0,s=t,e&&e.error instanceof Function&&e.error(t)})).then((function(){i.state.loading=!1,i.setData(s,n),e&&e.done instanceof Function&&e.done()}))}))},this.render=function(t){let e=this.template.cloneNode(!0);o(this,e),i(this,e),this.el.innerHTML=e.innerHTML,t instanceof Function&&t()},this.Init=function(){const e=this;if(void 0===t)return!1;if(void 0===t.el)throw"==> el is not set or not present in DOM. Set el to a valid DOM element on init.";if(e.el=t.el,t.template?e.template=t.template:(e.template=e.el.cloneNode(!0),e.el.innerHTML=""),e.state={loading:!1,error:!1,success:!1},e.data={},t.data instanceof Object&&(e.data=t.data),e.methods={Parent:e,isLoading(){return this.Parent.state.loading},isSuccessful(){return this.Parent.state.success},hasError(){return this.Parent.state.error}},t.methods instanceof Object&&Object.assign(e.methods,t.methods),e.directives=s,t.directives instanceof Object&&Object.assign(e.directives,t.directives),e.events={},t.events instanceof Object){Object.assign(e.events,t.events);for(const t in e.events){const n=t.split(" "),i=n[0],s=n[1];e.el.addEventListener(i,(function(n){e.el.querySelectorAll(s).forEach(i=>{n.srcElement===i&&e.events[t](n)})}))}}return e.events.Parent=e,e.axiosConfig={headers:{"X-Requested-With":"XMLHttpRequest"}},t.axiosConfig instanceof Object&&Object.assign(e.axiosConfig,t.axiosConfig),e.render(),e},this.Init()}}();
