var AppBlock=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=function(e,t,n){var r,i=t[0],a=e;if(n&&i in n){if(!(t.length>1))return n[i];t.shift(),a=n[i]}else i in e.methods&&(t.shift(),r=e.methods[i](e));if(t.length>0)for(var s=0;s<t.length&&void 0!==(r=o(a,t[s]));s++)a=r;return r},i={getNode:function(e){return this.comp.el.querySelector(e)},getNodes:function(e){return this.comp.el.querySelectorAll(e)},appendIn:function(e,t){return t.innerHTML+=e},prependIn:function(e,t){return t.innerHTML=e+t.innerHTML}},o=function(e,t){var n=e[t];if(void 0===n){var r=t.match(/\[(.*?)\]/g);if(r)for(var i=e[t.split("[")[0]],o=0;o<r.length;o++){if(o>0&&(i=n),void 0===(n=i[r[o].split("[")[1].split("]")[0]]))break}}return n},a=function(e,t){console.error("".concat(e.name,": ").concat(t))},s={},c=function(e,t,n){return n in s?s[n](e,t):(a(e,"".concat(n," is not a registered filter.")),t)},u=function(t,n,i){e(i);var o=n.replace(/{|}/g,"").split("."),a=r(t,o,i);return void 0===a?"":a},l=function(e,t,n){for(var r=t.attributes,i=0;i<r.length;i++)if(/{([^}]+)}/.test(r[i].value))for(var o=r[i].value.match(/{([^}]+)}/g),a=0;a<o.length;a++){var s=new RegExp(o[a],"g");r[i].value=r[i].value.replace(s,u(e,o[a],n))}},f=function(e,n,r){for(var i=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null,!1),o=[];i.nextNode();)o.push(i.currentNode);o.forEach((function(n){for(var i,o=n.nodeValue,a=function(){var a=i[0],s=t(a.match(/{([^|}]+)(\|[^}]+)?}/),3),l=s[1],f=s[2],d=f?f.split("|").slice(1):[],h=u(e,l,r);if(d.forEach((function(t){if("asHTML"===t);else h=c(e,h,t)})),d.includes("asHTML")){var p=document.createRange().createContextualFragment(h);return n.parentNode.insertBefore(p,n),n.parentNode.removeChild(n),1}o=o.replace(a,h)};null!==(i=/{([^}]+)}/.exec(o))&&!a(););n.parentNode&&(n.nodeValue=o)}))},d=function e(t,n,r){var i=n.attributes;if(i){for(var o=0;o<i.length;o++)if(i[o].name in t.directives){var a=i[o].name;if(!1===t.directives[a](t,n,r))return void n.remove()}l(t,n,r)}if(n.hasChildNodes())for(var s=n.childElementCount-1;s>=0&&n.children[s];s--)e(t,n.children[s],r)},h={"c-if":function(t,n,i){var o=n.getAttribute("c-if");null===o&&(o=n.getAttribute("c-ifnot"));var s=r(t,o.split("."),i);if(void 0===s)for(var c=[" == "," === "," !== "," != "," > "," < "," >= "," <= "],u=["boolean","number","undefined"],l=0;l<c.length;l++)if(o.includes(c[l])){var f=o,d=f.split(c[l]),h=r(t,d[0].split("."),i);if(!1===u.includes(String(e(h))))return a(t,"".concat(d[0]," cannot be evaluated because it is not a boolean nor a number.")),!1;f=f.replace(d[0],h),s=(0,eval)(f)}return!([void 0,null,!1,0,""].indexOf(s)>-1)&&(n.removeAttribute("c-if"),!0)},"c-ifnot":function(e,t,n){var r=!h["c-if"](e,t,n);return!0===r&&t.removeAttribute("c-ifnot"),r},"c-for":function(e,t,n){var i=t.getAttribute("c-for"),o=i.split(" in "),a=o[0],s=o[1].split(".");void 0===n&&(n={});var c=r(e,s,n);if(c){t.removeAttribute("c-for");for(var u=t.parentNode,h=0;h<c.length;h++){var p=c[h];n[a]=p;var v=t.cloneNode(!0);d(e,v,n),l(e,v,n),f(e,v,n),a=(o=i.split(" in "))[0],u.appendChild(v)}return t.remove(),!0}return!1}},p=require("idiomorph/dist/idiomorph.cjs");return function(e){var t=this;return this.setData=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.data=e:Object.assign(this.data,e),this.render()},this.resetState=function(){this.state.loading=!1,this.state.error=!1,this.state.success=!1},this.axiosRequest=function(e,n,r){return function(e,t,n,r){if(!e.state.loading){e.resetState(),e.state.loading=!0;var i=r||0;e.render((function(){setTimeout((function(){axios.request(t).then((function(t){if(e.state.success=!0,n&&n.success instanceof Function){var r=n.success(t);r instanceof Object&&(t=r)}})).catch((function(t){e.state.error=!0,n&&n.error instanceof Function&&n.error(t)})).then((function(){e.state.loading=!1,n&&n.finally instanceof Function&&n.finally(),e.render()}))}),i)}))}}(t,e,n,r)},this.fetchRequest=function(e,n,r,i){return function(e,t,n,r,i){if(!e.state.loading){e.resetState(),e.state.loading=!0;var o=i||0;e.render((function(){setTimeout((function(){fetch(t,n).then((function(e){return e.json()})).then((function(e){e.error?(app.state.error=!0,r&&r.error instanceof Function&&r.error(e)):(app.state.success=!0,r&&r.success instanceof Function&&r.success(e))})).catch((function(e){app.state.error=!0,r&&r.error instanceof Function&&r.error(e)})).finally((function(){app.state.loading=!1,r&&r.finally instanceof Function&&r.finally(),app.render()}))}),o)}))}}(t,e,n,r,i)},this.prepareTmpDom=function(){var e=this,t=e.template.cloneNode(!0);return d(e,t),f(e,t),t},this.render=function(e){var t=this;t.methods.beforeRender instanceof Function&&t.methods.beforeRender(t);var n=this.prepareTmpDom();console.time(t.renderEngine+" render time"),"Idiomorph"===t.renderEngine?t.idiomorphRender(n):"plain"===t.renderEngine?t.plainRender(n):a(t,"".concat(t.renderEngine," renderEngine does not exist.")),console.timeEnd(t.renderEngine+" render time"),t.methods.afterRender instanceof Function&&t.methods.afterRender(t),e instanceof Function&&e()},this.plainRender=function(e){this.el.innerHTML="",this.el.appendChild(e)},this.idiomorphRender=function(e){p.morph(this.el,e,{morphStyle:"innerHTML"})},this.Init=function(){var t=this;if(e.name?t.name=e.name:t.name="AppBlock",void 0===e)return!1;if(void 0!==e.el){if(null!==e.el){if(t.el=e.el,t.renderEngine=e.renderEngine?e.renderEngine:"Idiomorph",e.template)t.template=e.template.content;else for(t.template=document.createDocumentFragment();t.el.firstChild;)t.template.appendChild(t.el.firstChild);if(t.state={loading:!1,error:!1,success:!1},t.data={},e.data instanceof Object&&(t.data=e.data),t.utils=i,t.utils.comp=t,t.methods={Parent:t,isLoading:function(e){return e.state.loading},isSuccessful:function(e){return e.state.success},hasError:function(e){return e.state.error},beforeRender:function(e){},afterRender:function(e){}},e.methods instanceof Object&&Object.assign(t.methods,e.methods),t.directives=h,e.directives instanceof Object&&Object.assign(t.directives,e.directives),t.filters=s,e.filters instanceof Object&&Object.assign(t.filters,e.filters),t.events={},e.events instanceof Object){Object.assign(t.events,e.events);var n=function(e){var n=e.split(" "),r=n[0],i=n[1];t.el.addEventListener(r,(function(n){t.el.querySelectorAll(i).forEach((function(r){n.srcElement===r&&t.events[e](n)}))}))};for(var r in t.events)n(r)}return t.events.Parent=t,t.render(),t}a(t,"The element you assigned to el is not present.")}else a(t,"el is empty. Please assign a DOM element to el.")},this.Init()}}();
