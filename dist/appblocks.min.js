var AppBlock=function(){"use strict";const t=function(t,e,n){const i=e[0];let o,s=t;if(n&&i in n?(e.shift(),s=n[i]):i in t.methods&&(e.shift(),o=t.methods[i]()),e.length>0)for(let t=0;t<e.length&&(o=s[e[t]],void 0!==o);t++)s=o;return o},e=function(e,n,i){if(!1===/{([^}]+)}/.test(n))return;let o=n.replace(/{|}/g,"").split(".");return t(e,o,i)},n=function(t,n,i){const o=n.attributes;for(let n=0;n<o.length;n++)if(/{([^}]+)}/.test(o[n].value)){const s=o[n].value.match(/{([^}]+)}/g);for(let r=0;r<s.length;r++){const c=new RegExp(s[r],"g");o[n].value=o[n].value.replace(c,e(t,s[r],i))}}},i=function(t,n,i){const o=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:function(t){if(/{([^}]+)}/.test(t.data))return NodeFilter.FILTER_ACCEPT}});for(;o.nextNode();){let n=o.currentNode.nodeValue;const s=n.match(/{([^}]+)}/g);for(let o=0;o<s.length;o++)n=n.replace(s[o],e(t,s[o],i));o.currentNode.nodeValue=n}},o={"c-if":function(e,n,i){let o=n.getAttribute("c-if");null===o&&(o=n.getAttribute("c-ifnot"));let s=t(e,o.split("."),i);if(void 0===s){const n=[" == "," === "," !== "," != "," > "," < "," >= "," <= "],r=["boolean","number"];for(let c=0;c<n.length;c++)if(o.includes(n[c])){let a=o;const l=a.split(n[c]),u=t(e,l[0].split("."),i);l[1];if(!1===r.includes(String(typeof u)))return console.error(l[0]+" cannot be evaluated because it is not a boolean or a number."),!1;a=a.replace(l[0],u),s=(0,eval)(a)}}return void 0!==s&&!1!==s&&(n.removeAttribute("c-if"),!0)},"c-ifnot":function(t,e,n){const i=!o["c-if"](t,e,n);return!0===i&&e.removeAttribute("c-ifnot"),i},"c-for":function(e,o,r){const c=o.getAttribute("c-for");let a=c.split(" in "),l=a[0];const u=a[1].split(".");void 0===r&&(r={});let f=t(e,u,r);if(f){o.removeAttribute("c-for");const t=o.parentNode;for(let u=0;u<f.length;u++){const d=f[u];r[l]=d;const h=o.cloneNode(!0);s(e,h,r),n(e,h,r),i(e,h,r),a=c.split(" in "),l=a[0],t.appendChild(h)}return o.remove(),!0}return!1}},s=function(t,e,i){const r=e.attributes;for(let n=0;n<r.length;n++)if(r[n].name in o){const s=r[n].name;if(!1===o[s](t,e,i))return void e.remove()}if(n(t,e,i),e.hasChildNodes())for(let n=e.childElementCount-1;n>=0&&e.children[n];n--)s(t,e.children[n],i)};return function(t){return this.setData=function(t,e=!1){e?this.data=data:Object.assign(this.data,t),this.render()},this.resetState=function(){this.state.loading=!1,this.state.error=!1,this.state.success=!1},this.request=function(t,e,n){const i=this;if(i.state.loading)return;let o,s=i.axiosConfig;t&&Object.assign(s,t),i.resetState(),i.state.loading=!0,i.render((function(){axios.request(s).then((function(t){i.state.success=!0,o=t.data,e&&e.success instanceof Function&&e.success(t)})).catch((function(t){i.state.error=!0,o=t,e&&e.error instanceof Function&&e.error(t)})).then((function(){i.state.loading=!1,i.setData(o,n),e&&e.done instanceof Function&&e.done()}))}))},this.render=function(t){let e=this.template.cloneNode(!0);s(this,e),i(this,e),this.el.innerHTML=e.innerHTML,t instanceof Function&&t()},this.Init=function(){const e=this;if(void 0===t)return!1;if(void 0===t.el)throw"==> el is not set or not present in DOM. Set el to a valid DOM element on init.";if(e.el=t.el,t.template?e.template=t.template:(e.template=e.el.cloneNode(!0),e.el.innerHTML=""),e.state={loading:!1,error:!1,success:!1},e.data={},t.data instanceof Object&&(e.data=t.data),e.methods={Parent:e,isLoading(){return this.Parent.state.loading},isSuccessful(){return this.Parent.state.success},hasError(){return this.Parent.state.error}},t.methods instanceof Object&&Object.assign(e.methods,t.methods),e.events={},t.events instanceof Object){Object.assign(e.events,t.events);for(const t in e.events){const n=t.split(" "),i=n[0],o=n[1];e.el.addEventListener(i,(function(n){e.el.querySelectorAll(o).forEach(i=>{n.srcElement===i&&e.events[t](n)})}))}}return e.events.Parent=e,e.axiosConfig={headers:{"X-Requested-With":"XMLHttpRequest"}},t.axiosConfig instanceof Object&&Object.assign(e.axiosConfig,t.axiosConfig),e.render(),e},this.Init()}}();
