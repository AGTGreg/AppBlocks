var AppBlock=function(){"use strict";return function(t){return this.setData=function(t,e=!1){e?this.data=data:Object.assign(this.data,t),this.render()},this.resetState=function(){this.state.loading=!1,this.state.error=!1,this.state.success=!1},this.request=function(t,e,n){const i=this;if(i.state.loading)return;let o,s=i.axiosConfig;t&&Object.assign(s,t),i.resetState(),i.state.loading=!0,i.render((function(){axios.request(s).then((function(t){i.state.success=!0,o=t.data,e&&e.success instanceof Function&&e.success(t)})).catch((function(t){i.state.error=!0,o=t,e&&e.error instanceof Function&&e.error(t)})).then((function(){i.state.loading=!1,i.setData(o,n),e&&e.done instanceof Function&&e.done()}))}))},this.render=function(t){const e=this,n=function(t,n){const i=t[0];let o,s=e;if(n&&i in n?(t.shift(),s=n[i]):i in e.methods&&(t.shift(),o=e.methods[i]()),t.length>0)for(let e=0;e<t.length&&(o=s[t[e]],void 0!==o);e++)s=o;return o},i=function(t,e){if(!1===/{([^}]+)}/.test(t))return;let i=t.replace(/{|}/g,"").split(".");return n(i,e)},o=function(t,e){const n=t.attributes;for(let t=0;t<n.length;t++)if(/{([^}]+)}/.test(n[t].value)){const o=n[t].value.match(/{([^}]+)}/g);for(let s=0;s<o.length;s++){const r=new RegExp(o[s],"g");n[t].value=n[t].value.replace(r,i(o[s],e))}}},s=function(t,e){const n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:function(t){if(/{([^}]+)}/.test(t.data))return NodeFilter.FILTER_ACCEPT}});for(;n.nextNode();){let t=n.currentNode.nodeValue;const o=t.match(/{([^}]+)}/g);for(let n=0;n<o.length;n++)t=t.replace(o[n],i(o[n],e));n.currentNode.nodeValue=t}},r={"c-if":function(t,e){let i=t.getAttribute("c-if");null===i&&(i=t.getAttribute("c-ifnot"));let o=n(i.split("."),e);if(void 0===o){const t=[" == "," === "," !== "," != "," > "," < "," >= "," <= "],s=["boolean","number"];for(let r=0;r<t.length;r++)if(i.includes(t[r])){let c=i;const a=c.split(t[r]),l=n(a[0].split("."),e);a[1];if(!1===s.includes(String(typeof l)))return console.error(a[0]+" cannot be evaluated because it is not a boolean or a number."),!1;c=c.replace(a[0],l),o=(0,eval)(c)}}return void 0!==o&&!1!==o&&(t.removeAttribute("c-if"),!0)},"c-ifnot":function(t,e){const n=!r["c-if"](t,e);return!0===n&&t.removeAttribute("c-ifnot"),n},"c-for":function(t,e){const i=t.getAttribute("c-for");let r=i.split(" in "),a=r[0];const l=r[1].split(".");void 0===e&&(e={});let u=n(l,e);if(u){t.removeAttribute("c-for");const n=t.parentNode;for(let l=0;l<u.length;l++){const f=u[l];e[a]=f;const d=t.cloneNode(!0);c(d,e),o(d,e),s(d,e),r=i.split(" in "),a=r[0],n.appendChild(d)}return t.remove(),!0}return!1}},c=function(t,e){const n=t.attributes;for(let i=0;i<n.length;i++)if(n[i].name in r){const o=n[i].name;if(!1===r[o](t,e))return void t.remove()}if(o(t,e),t.hasChildNodes())for(let n=t.childElementCount-1;n>=0&&t.children[n];n--)c(t.children[n],e)};let a=e.template.cloneNode(!0);c(a),s(a),this.el.innerHTML=a.innerHTML,t instanceof Function&&t()},this.Init=function(){const e=this;if(void 0===t)return!1;if(void 0===t.el)throw"==> el is not set or not present in DOM. Set el to a valid DOM element on init.";if(e.el=t.el,t.template?e.template=t.template:(e.template=e.el.cloneNode(!0),e.el.innerHTML=""),e.state={loading:!1,error:!1,success:!1},e.data={},t.data instanceof Object&&(e.data=t.data),e.methods={Parent:e,isLoading(){return this.Parent.state.loading},isSuccessful(){return this.Parent.state.success},hasError(){return this.Parent.state.error}},t.methods instanceof Object&&Object.assign(e.methods,t.methods),e.events={},t.events instanceof Object){Object.assign(e.events,t.events);for(const t in e.events){const n=t.split(" "),i=n[0],o=n[1];e.el.addEventListener(i,(function(n){e.el.querySelectorAll(o).forEach(i=>{n.srcElement===i&&e.events[t](n)})}))}}return e.events.Parent=e,e.axiosConfig={headers:{"X-Requested-With":"XMLHttpRequest"}},t.axiosConfig instanceof Object&&Object.assign(e.axiosConfig,t.axiosConfig),e.render(),e},this.Init()}}();
