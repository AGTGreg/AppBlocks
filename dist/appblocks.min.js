var AppBlock=function(){"use strict";const t=function(t,e,n){const i=e[0];let s,o=t;if(n&&i in n?(e.shift(),o=n[i]):i in t.methods&&(e.shift(),s=t.methods[i](t)),e.length>0)for(let t=0;t<e.length&&(s=o[e[t]],void 0!==s);t++)o=s;return s},e=function(e,n,i){if(!1===/{([^}]+)}/.test(n))return;let s=n.replace(/{|}/g,"").split("."),o=t(e,s,i);return void 0===o?"":o},n=function(t,n,i){const s=n.attributes;for(let n=0;n<s.length;n++)if(/{([^}]+)}/.test(s[n].value)){const o=s[n].value.match(/{([^}]+)}/g);for(let r=0;r<o.length;r++){const c=new RegExp(o[r],"g");s[n].value=s[n].value.replace(c,e(t,o[r],i))}}},i=function(t,n,i){const s=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:function(t){if(/{([^}]+)}/.test(t.data))return NodeFilter.FILTER_ACCEPT}});for(;s.nextNode();){let n=s.currentNode.nodeValue;const o=n.match(/{([^}]+)}/g);for(let s=0;s<o.length;s++)n=n.replace(o[s],e(t,o[s],i));s.currentNode.nodeValue=n}},s=function(t,e,i){const o=e.attributes;if(o){for(let n=0;n<o.length;n++)if(o[n].name in t.directives){const s=o[n].name;if(!1===t.directives[s](t,e,i))return void e.remove()}n(t,e,i)}if(e.hasChildNodes())for(let n=e.childElementCount-1;n>=0&&e.children[n];n--)s(t,e.children[n],i)},o={"c-if":function(e,n,i){let s=n.getAttribute("c-if");null===s&&(s=n.getAttribute("c-ifnot"));let o=t(e,s.split("."),i);if(void 0===o){const n=[" == "," === "," !== "," != "," > "," < "," >= "," <= "],r=["boolean","number"];for(let c=0;c<n.length;c++)if(s.includes(n[c])){let a=s;const l=a.split(n[c]),f=t(e,l[0].split("."),i);l[1];if(!1===r.includes(String(typeof f)))return console.error(l[0]+" cannot be evaluated because it is not a boolean or a number."),!1;a=a.replace(l[0],f),o=(0,eval)(a)}}return void 0!==o&&!1!==o&&(n.removeAttribute("c-if"),!0)},"c-ifnot":function(t,e,n){const i=!o["c-if"](t,e,n);return!0===i&&e.removeAttribute("c-ifnot"),i},"c-for":function(e,o,r){const c=o.getAttribute("c-for");let a=c.split(" in "),l=a[0];const f=a[1].split(".");void 0===r&&(r={});let d=t(e,f,r);if(d){o.removeAttribute("c-for");const t=o.parentNode;for(let f=0;f<d.length;f++){const u=d[f];r[l]=u;const h=o.cloneNode(!0);s(e,h,r),n(e,h,r),i(e,h,r),a=c.split(" in "),l=a[0],t.appendChild(h)}return o.remove(),!0}return!1}};return function(t){return this.setData=function(t,e=!1){e?this.data=data:Object.assign(this.data,t),this.render()},this.resetState=function(){this.state.loading=!1,this.state.error=!1,this.state.success=!1},this.request=function(t,e,n){const i=this;if(i.state.loading)return;let s,o=i.axiosConfig;t&&Object.assign(o,t),i.resetState(),i.state.loading=!0,i.render((function(){axios.request(o).then((function(t){if(i.state.success=!0,e&&e.success instanceof Function){const n=e.success(t);n instanceof Object&&(t=n)}s=t.data})).catch((function(t){i.state.error=!0,s=t,e&&e.error instanceof Function&&e.error(t)})).then((function(){i.state.loading=!1,i.setData(s,n),e&&e.done instanceof Function&&e.done()}))}))},this.render=function(t){this.methods.beforeRender instanceof Function&&this.methods.beforeRender(this);let e=this.template.cloneNode(!0);s(this,e),i(this,e),this.el.innerHTML="",this.el.appendChild(e),this.methods.afterRender instanceof Function&&this.methods.afterRender(this),t instanceof Function&&t()},this.Init=function(){const e=this;if(void 0===t)return!1;if(void 0===t.el)throw"==> el is not set or not present in DOM. Set el to a valid DOM element on init.";if(e.el=t.el,t.template)e.template=t.template.content;else for(e.template=document.createDocumentFragment();e.el.firstChild;)e.template.appendChild(e.el.firstChild);if(e.state={loading:!1,error:!1,success:!1},e.data={},t.data instanceof Object&&(e.data=t.data),e.methods={Parent:e,isLoading:t=>t.state.loading,isSuccessful:t=>t.state.success,hasError:t=>t.state.error,beforeRender(t){},afterRender(t){}},t.methods instanceof Object&&Object.assign(e.methods,t.methods),e.directives=o,t.directives instanceof Object&&Object.assign(e.directives,t.directives),e.events={},t.events instanceof Object){Object.assign(e.events,t.events);for(const t in e.events){const n=t.split(" "),i=n[0],s=n[1];e.el.addEventListener(i,(function(n){e.el.querySelectorAll(s).forEach(i=>{n.srcElement===i&&e.events[t](n)})}))}}return e.events.Parent=e,e.axiosConfig={headers:{"X-Requested-With":"XMLHttpRequest"}},t.axiosConfig instanceof Object&&Object.assign(e.axiosConfig,t.axiosConfig),e.render(),e},this.Init()}}();
